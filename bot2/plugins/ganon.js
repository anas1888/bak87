import fs from 'fs';
import path from 'path';

export default {
  name: 'قوانين النقابة',
  command: ['قوانين', 'قانون'],
  category: 'زرف',
  description: 'يعرض قوانين نقابة الزرف.',
  args: [],
  execution: async ({ sock, m }) => {
    const rules = `
*📜 قوانين نقابة الزرف 📜*

1. ✨ *الاحترام أولًا:* تعامل مع الأعضاء بكل احترام، الزرف فن وليس إساءة.
2. 🧠 *التخطيط الذكي:* لا تقم بأي خطوة عشوائية دون دراسة وتحليل مسبق.
3. 🔐 *السرية التامة:* أسرار النقابة تبقى داخلها، من يخون يُطرد بلا تردد.
4. 🤝 *التعاون فوق كل شيء:* نجاح الزرف يعتمد على العمل الجماعي والمكر المشترك.
5. 🛡️ *عدم الإضرار:* الزرف فن نبيل، لا يهدف إلى الإيذاء الشخصي أو المعنوي لأي فرد.
6. ⚖️ *الالتزام بالرتب:* احترم قرارات القادة والمنفذين للنقابة.
7. 💡 *الإبداع مطلوب:* كن مبتكرًا في أساليب الزرف ولا تكرر الأفكار التقليدية.
8. 🚫 *عدم إثارة الفوضى:* النقابة ليست مكانًا للعبث أو نشر الفوضى.
9. 🏋️‍♂️ *تحمل المسؤولية:* من يخطئ يتحمل عواقب أفعاله، ولا يُقبل اللوم على الآخرين.
10. 📚 *التطوير المستمر:* تعلم واستمر في تحسين مهاراتك في الزرف والمكر.

⚠️ *التزم بالقوانين لضمان نجاح النقابة!*
    `;

    // تحديد المسار الصحيح للصورة
    const imagePath = path.resolve('./1.png'); // تأكد من وضع المسار الصحيح للصورة

    try {
      if (fs.existsSync(imagePath)) {
        const imageBuffer = fs.readFileSync(imagePath); // قراءة الصورة كـ Buffer
        await sock.sendMessage(m.key.remoteJid, {
          image: imageBuffer,
          caption: rules, // نص الرسالة مع الصورة
        });
      } else {
        await sock.sendMessage(m.key.remoteJid, {
          text: 'عذرًا، لم يتم العثور على الصورة.',
        });
      }
    } catch (error) {
      console.error('حدث خطأ أثناء إرسال القوانين:', error);
    }
  },
};