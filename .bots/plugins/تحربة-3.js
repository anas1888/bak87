
import pkg from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto, prepareWAMessageMedia } = pkg;

function clockString(ms) {
    let h = Math.floor(ms / 3600000);
    let m = Math.floor((ms % 3600000) / 60000);
    let s = Math.floor((ms % 60000) / 1000);
    return [h, m, s].map(v => v.toString().padStart(2, '0')).join(':');
}

const handler = async (m, { conn, usedPrefix, __dirname, text, isPrems }) => {
    let d = new Date();
    d.setTime(d.getTime() + 3600000); // ÿ™ÿπÿØŸäŸÑ ŸàŸÇÿ™ ÿßŸÑÿ≥ÿßÿπÿ© ÿ®ÿ•ÿ∂ÿßŸÅÿ© ÿ≥ÿßÿπÿ©
    let locale = 'ar';
    let week = d.toLocaleDateString(locale, { weekday: 'long' });
    let date = d.toLocaleDateString(locale, { day: 'numeric', month: 'long', year: 'numeric' });
    let _uptime = process.uptime() * 1000;
    let uptime = clockString(_uptime);
    let user = global.db.data.users[m.sender] || {};
    let name = conn.getName(m.sender) || 'ŸÖÿ≥ÿ™ÿÆÿØŸÖ';
    let { money = 0, joincount = 0, diamond = 0 } = user;
    let { exp = 0, limit = 0, level = 0, role = 'ŸÖÿ≥ÿ™ÿÆÿØŸÖ' } = user;
    let rtotalreg = Object.values(global.db.data.users).filter(user => user.registered === true).length;
    let more = String.fromCharCode(8206);
    let readMore = more.repeat(850);
    let who = m.mentionedJid && m.mentionedJid[0] ? m.mentionedJid[0] : m.fromMe ? conn.user.jid : m.sender;
    let taguser = '@' + m.sender.split("@s.whatsapp.net")[0];

    await conn.sendMessage(m.chat, { react: { text: 'üå∏', key: m.key } });

    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÖŸÇÿ∑ÿπ ÿßŸÑÿµŸàÿ™Ÿä ÿ£ŸàŸÑÿßŸã
    await conn.sendMessage(m.chat, { 
        audio: { 
            url: 'https://files.catbox.moe/8q229v.opus' 
        }, 
        mimetype: 'audio/mpeg', 
        ptt: true 
    }, { quoted: m });

    // ÿ™ÿ¨ŸáŸäÿ≤ ÿßŸÑÿµŸàÿ±ÿ© ŸàÿßŸÑŸÇÿßÿ¶ŸÖÿ©
    const images = [
        'https://files.catbox.moe/000sr5.jpg', 
        'https://files.catbox.moe/9t4w8z.jpg'
    ];

    const randomImage = images[Math.floor(Math.random() * images.length)];

    var messa = await prepareWAMessageMedia({ image: { url: randomImage } }, { upload: conn.waUploadToServer });

    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©
    conn.relayMessage(m.chat, {
        viewOnceMessage: {
            message: {
                interactiveMessage: {
                    body: {
                        text: `> ‚ïÆ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ï≠
        ‚îÉ    „Äê ùëæùë¨ùë≥ùë™ùë∂ùë¥ùë¨ „Äë    ‚îÉ
> ‚ïØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ï∞
> *‚î§ *ŸÖÿ±ÿ≠ÿ®ÿß Ÿäÿß ${name}*
> *‚î§ ü§¥üèª ÿßŸÑŸÖÿ∑Ÿàÿ±: Mahmoud Mahmed*
> *‚î§ #Ô∏è‚É£ ÿßÿ±ŸÇÿßŸÖ ÿßŸÑŸÖÿ∑Ÿàÿ±: https://wa.me/201225655220 & https://wa.me/212643304582*
> *‚î§ ‚úÖ ÿßŸÑÿßÿµÿØÿßÿ±: 1.2.0*
> *‚î§ üé≥ ÿßŸÑÿ®ÿßÿØÿ¶ÿ©: ‚Ä¢*
> *‚î§ üßúüèΩ‚Äç‚ôÇÔ∏è ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ: ${rtotalreg}*  
> *‚î§‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ¬∑¬∑¬∑* 
> *‚úß‚îÄ‚îÄ‚îÄ‚îÄ[ÿßŸÑŸÄÔª§ŸÄÿ≥ŸÄÿ™ŸÄÿÆŸÄÿØŸÖ]‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ*
> *‚î§ üé© *ÿßŸÑÿßÿ≥ŸÄŸÖ: ${name}*
> *‚î§ üîÉ ÿßŸÑŸÖÿ≥ÿ™ŸàŸä: ${level}*
> *‚î§ üèÜ *ÿßŸÑŸÄÿ±ÿ™ÿ®ÿ©: ${role}*
> *‚î§ üéÆ *ÿßŸÑÿÆÿ®ŸÄÿ±ÿ©: ${exp}* 
> *‚î§ üíé *ÿßŸÑÿ£ŸÑŸÄŸÖÿßÿ≥: ${diamond}*
> *‚î§ üéüÔ∏è *ÿßŸÑÿ±ŸÖŸàÿ≤: 32*
> *‚î§ üåü *ÿßŸÑŸÄÿ®ŸÄÿ±ÔØæŸÄŸÖŸÄŸäŸÄŸàŸÖ: ${user.premiumTime > 0 ? 'ŸÖŸÄŸÖŸÄŸäÿ≤‚úÖ' : (isPrems ? 'ŸÖŸÄŸÖŸÄŸäÿ≤ ‚úÖ' : 'ÿπŸÄÿßÿØŸä ‚ùå') || ''}* 
> *‚î§‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ¬∑¬∑¬∑* 
> *‚úß‚îÄ‚îÄ‚îÄ‚îÄ[ ÿßŸÑŸÄŸàŸÇŸÄÿ™ ]‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ*
> *‚î§ üìÜ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ: ${date}*
> *‚î§ üìÖ ÿßŸÑŸäŸàŸÖ: ${week}*
> *‚î§ üöÄ ŸàŸÇÿ™ ÿßŸÑŸÜÿ¥ÿßÿ∑: ${uptime}*
> *‚î§‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ¬∑¬∑¬∑*`
                    },
                    footer: {
                        text: '‚ú™‚îãùêíùêÄùêíùêîùêäùêÑ-ùêÅùêéùêì‚îã‚ú™'
                    },
                    header: {
                        title: '',
                        hasMediaAttachment: true,
                        imageMessage: messa.imageMessage,
                    },
                    nativeFlowMessage: {
                        buttons: [
                            {
                                name: 'single_select',
buttonParamsJson: JSON.stringify({
    title: '„Äé„ÄèÿßŸàÿßŸÖÿ± ÿßŸÑÿ®Ÿàÿ™„Ää',
    sections: [
        {
            title: '„Äé„ÄèŸÇÿ≥ŸÖ ÿßŸÑŸÖÿßŸÑŸÉ„Ää',
            highlight_label: 'ùêìùêÄùêëùêÅùêéùêé‚òûùêÅùêéùêì',
            rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ŸÑÿßÿπÿ∂ÿßÿ°'                id: '.ŸÇ1'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '2',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿØŸäŸÜ',
                                            id: '.ŸÇ2'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '3',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßŸÑŸÖÿ∑Ÿàÿ±',
                                            id: '.ŸÇ3'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '4',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ',
                                            id: '.ŸÇ4'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '5',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßŸÑÿßŸÑÿπÿßÿ®',
                                            id: '.ŸÇ5'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '6',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿ™ÿ≠ŸàŸäŸÑÿßÿ™',
                                            id: '.ŸÇ6'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '7',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿ∞ŸÉÿßÿ°',
                                            id: '.ŸÇ7'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '8',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿØÿπŸÖ',
                                            id: '.ŸÇ8'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '9',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßÿØŸäÿ™',
                                            id: '.ŸÇ9'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '10',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßŸÑŸÖÿ¥ÿ±ŸÅŸäŸÜ',
                                            id: '.ŸÇ10'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '11',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßŸÑÿ®ÿ≠ÿ´',
                                            id: '.ŸÇ11'
                                        }
                                    ]
                                },
                                {
                                highlight_label: '12',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿµŸàÿ±',
                                            id: '.ŸÇ12'
                                        }
                                    ]
                                },
                                {
                                    highlight_label: '13',
                                    rows: [
                                        {

                                            title: '‚Çõ‚Çê‚Çõ·µ§‚Çñ‚Çë B‚Çí‚Çú',
                                            description: 'ŸÇÿ≥ŸÖ ÿßŸÑÿßŸÑŸÇÿßÿ®',
                                            id: '.ŸÇ13'
                                        }
                                    ]
                                }
                            ]
}),
messageParamsJson: ''
                            },
                            {
    name: "cta_url",
    buttonParamsJson: JSON.stringify({
        display_text: "„Äé„Äèÿ±ŸÇŸÖ ÿßŸäÿ≤ŸÜ„Ää",
        url: "https://wa.me/212643304582",
        merchant_url: "https://wa.me/212643304582"
    })
},
{
    name: "cta_url",
    buttonParamsJson: JSON.stringify({
        display_text: "„Äé„Äèÿ±ŸÇŸÖ ÿ≥ÿßÿ≥ŸÉŸä„Ää",
        url: "https://wa.me/201229466261",
        merchant_url: "https://wa.me/201229466261"
    })
},
{
    name: "quick_reply",
    buttonParamsJson: JSON.stringify({
        display_text: "„Äé„Äèÿ¨ÿ±Ÿàÿ® ÿßŸÑÿ®Ÿàÿ™„Ää",
        id: ".ÿØÿπŸÖ"
    })
},
{
    name: "quick_reply",
    buttonParamsJson: JSON.stringify({
        display_text: "„Äé„ÄèŸÇŸäŸÖ ÿßŸÑÿ®Ÿàÿ™„Ää",
        id: ".ÿ™ŸÇŸäŸäŸÖ"
    })
},
{
    name: "cta_url",
    buttonParamsJson: JSON.stringify({
        display_text: "„Äé„ÄèŸÇŸÜÿßÿ™-ÿßŸÑÿ®Ÿàÿ™„Ää",
        url: "https://whatsapp.com/channel/0029VaklBGFHFxOwODjsoP13",
        merchant_url: "https://whatsapp.com/channel/0029VaklBGFHFxOwODjsoP13"
    })
}
                        ]
                    }
                }
            }
        }
    }, {});
}

handler.help = ['ÿ®ŸÑ'];
handler.tags = ['ÿ®ŸÑ'];
handler.command = ['ÿ®ŸÑ'];

export default handler;
``